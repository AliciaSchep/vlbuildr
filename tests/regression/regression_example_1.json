{
  "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
  "data": {
    "url": "https://raw.githubusercontent.com/vega/vega/master/docs/data/income.json"
  },
  "spec": {
    "height": 300,
    "width": 500,
    "transform": [
      {
        "as": "geo",
        "from": {
          "data": {
            "url": "https://vega.github.io/vega-editor/app/data/us-10m.json",
            "format": {
              "type": "topojson",
              "feature": "states"
            }
          },
          "key": "id"
        },
        "lookup": "id"
      }
    ],
    "config": {
      "projection": {
        "type": "albersUsa"
      }
    },
    "mark": {
      "type": "geoshape"
    },
    "encoding": {
      "shape": {
        "field": "geo",
        "type": "geojson"
      },
      "color": {
        "field": "pct",
        "type": "quantitative"
      }
    }
  },
  "facet": {
    "row": {
      "field": "group",
      "type": "nominal"
    }
  }
} 
